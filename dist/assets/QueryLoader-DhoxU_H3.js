var at=e=>{throw TypeError(e)};var G=(e,t,r)=>t.has(e)||at("Cannot "+r);var s=(e,t,r)=>(G(e,t,"read from private field"),r?r.call(e):t.get(e)),y=(e,t,r)=>t.has(e)?at("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,r),h=(e,t,r,i)=>(G(e,t,"write to private field"),i?i.call(e,r):t.set(e,r),r),l=(e,t,r)=>(G(e,t,"access private method"),r);import{S as vt,f as S,s as z,i as B,k as mt,l as ot,m as ut,o as Rt,p as Ct,q as St,v as ht,n as yt,r as w,d as Et,j as ct,I as Ot}from"./index-TnTDpqy4.js";import{s as wt,y as Ft,z as It,A as Qt,B as xt,C as qt,D as Dt,E as Tt,F as Ut,G as Mt,H as Kt,J as Pt}from"./api-xF4wnrL7.js";var g,n,A,p,Q,D,C,L,T,U,x,q,F,M,a,P,V,W,J,X,Y,Z,$,pt,ft,At=(ft=class extends vt{constructor(t,r){super();y(this,a);y(this,g);y(this,n);y(this,A);y(this,p);y(this,Q);y(this,D);y(this,C);y(this,L);y(this,T);y(this,U);y(this,x);y(this,q);y(this,F);y(this,M,new Set);this.options=r,h(this,g,t),h(this,C,null),this.bindMethods(),this.setOptions(r)}bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(s(this,n).addObserver(this),lt(s(this,n),this.options)?l(this,a,P).call(this):this.updateResult(),l(this,a,X).call(this))}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return tt(s(this,n),this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return tt(s(this,n),this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,l(this,a,Y).call(this),l(this,a,Z).call(this),s(this,n).removeObserver(this)}setOptions(t,r){const i=this.options,f=s(this,n);if(this.options=s(this,g).defaultQueryOptions(t),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof S(this.options.enabled,s(this,n))!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");l(this,a,$).call(this),s(this,n).setOptions(this.options),i._defaulted&&!z(this.options,i)&&s(this,g).getQueryCache().notify({type:"observerOptionsUpdated",query:s(this,n),observer:this});const c=this.hasListeners();c&&dt(s(this,n),f,this.options,i)&&l(this,a,P).call(this),this.updateResult(r),c&&(s(this,n)!==f||S(this.options.enabled,s(this,n))!==S(i.enabled,s(this,n))||B(this.options.staleTime,s(this,n))!==B(i.staleTime,s(this,n)))&&l(this,a,V).call(this);const o=l(this,a,W).call(this);c&&(s(this,n)!==f||S(this.options.enabled,s(this,n))!==S(i.enabled,s(this,n))||o!==s(this,F))&&l(this,a,J).call(this,o)}getOptimisticResult(t){const r=s(this,g).getQueryCache().build(s(this,g),t),i=this.createResult(r,t);return jt(this,i)&&(h(this,p,i),h(this,D,this.options),h(this,Q,s(this,n).state)),i}getCurrentResult(){return s(this,p)}trackResult(t,r){const i={};return Object.keys(t).forEach(f=>{Object.defineProperty(i,f,{configurable:!1,enumerable:!0,get:()=>(this.trackProp(f),r==null||r(f),t[f])})}),i}trackProp(t){s(this,M).add(t)}getCurrentQuery(){return s(this,n)}refetch({...t}={}){return this.fetch({...t})}fetchOptimistic(t){const r=s(this,g).defaultQueryOptions(t),i=s(this,g).getQueryCache().build(s(this,g),r);return i.isFetchingOptimistic=!0,i.fetch().then(()=>this.createResult(i,r))}fetch(t){return l(this,a,P).call(this,{...t,cancelRefetch:t.cancelRefetch??!0}).then(()=>(this.updateResult(),s(this,p)))}createResult(t,r){var nt;const i=s(this,n),f=this.options,c=s(this,p),o=s(this,Q),d=s(this,D),E=t!==i?t.state:s(this,A),{state:O}=t;let u={...O},K=!1,b;if(r._optimisticResults){const v=this.hasListeners(),H=!v&&lt(t,r),bt=v&&dt(t,i,r,f);(H||bt)&&(u={...u,...St(O.data,t.options)}),r._optimisticResults==="isRestoring"&&(u.fetchStatus="idle")}let{error:j,errorUpdatedAt:st,status:I}=u;if(r.select&&u.data!==void 0)if(c&&u.data===(o==null?void 0:o.data)&&r.select===s(this,L))b=s(this,T);else try{h(this,L,r.select),b=r.select(u.data),b=ht(c==null?void 0:c.data,b,r),h(this,T,b),h(this,C,null)}catch(v){h(this,C,v)}else b=u.data;if(r.placeholderData!==void 0&&b===void 0&&I==="pending"){let v;if(c!=null&&c.isPlaceholderData&&r.placeholderData===(d==null?void 0:d.placeholderData))v=c.data;else if(v=typeof r.placeholderData=="function"?r.placeholderData((nt=s(this,U))==null?void 0:nt.state.data,s(this,U)):r.placeholderData,r.select&&v!==void 0)try{v=r.select(v),h(this,C,null)}catch(H){h(this,C,H)}v!==void 0&&(I="success",b=ht(c==null?void 0:c.data,v,r),K=!0)}s(this,C)&&(j=s(this,C),b=s(this,T),st=Date.now(),I="error");const N=u.fetchStatus==="fetching",_=I==="pending",k=I==="error",rt=_&&N,it=b!==void 0;return{status:I,fetchStatus:u.fetchStatus,isPending:_,isSuccess:I==="success",isError:k,isInitialLoading:rt,isLoading:rt,data:b,dataUpdatedAt:u.dataUpdatedAt,error:j,errorUpdatedAt:st,failureCount:u.fetchFailureCount,failureReason:u.fetchFailureReason,errorUpdateCount:u.errorUpdateCount,isFetched:u.dataUpdateCount>0||u.errorUpdateCount>0,isFetchedAfterMount:u.dataUpdateCount>E.dataUpdateCount||u.errorUpdateCount>E.errorUpdateCount,isFetching:N,isRefetching:N&&!_,isLoadingError:k&&!it,isPaused:u.fetchStatus==="paused",isPlaceholderData:K,isRefetchError:k&&it,isStale:et(t,r),refetch:this.refetch}}updateResult(t){const r=s(this,p),i=this.createResult(s(this,n),this.options);if(h(this,Q,s(this,n).state),h(this,D,this.options),s(this,Q).data!==void 0&&h(this,U,s(this,n)),z(i,r))return;h(this,p,i);const f={},c=()=>{if(!r)return!0;const{notifyOnChangeProps:o}=this.options,d=typeof o=="function"?o():o;if(d==="all"||!d&&!s(this,M).size)return!0;const R=new Set(d??s(this,M));return this.options.throwOnError&&R.add("error"),Object.keys(s(this,p)).some(E=>{const O=E;return s(this,p)[O]!==r[O]&&R.has(O)})};(t==null?void 0:t.listeners)!==!1&&c()&&(f.listeners=!0),l(this,a,pt).call(this,{...f,...t})}onQueryUpdate(){this.updateResult(),this.hasListeners()&&l(this,a,X).call(this)}},g=new WeakMap,n=new WeakMap,A=new WeakMap,p=new WeakMap,Q=new WeakMap,D=new WeakMap,C=new WeakMap,L=new WeakMap,T=new WeakMap,U=new WeakMap,x=new WeakMap,q=new WeakMap,F=new WeakMap,M=new WeakMap,a=new WeakSet,P=function(t){l(this,a,$).call(this);let r=s(this,n).fetch(this.options,t);return t!=null&&t.throwOnError||(r=r.catch(mt)),r},V=function(){l(this,a,Y).call(this);const t=B(this.options.staleTime,s(this,n));if(ot||s(this,p).isStale||!ut(t))return;const i=Rt(s(this,p).dataUpdatedAt,t)+1;h(this,x,setTimeout(()=>{s(this,p).isStale||this.updateResult()},i))},W=function(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(s(this,n)):this.options.refetchInterval)??!1},J=function(t){l(this,a,Z).call(this),h(this,F,t),!(ot||S(this.options.enabled,s(this,n))===!1||!ut(s(this,F))||s(this,F)===0)&&h(this,q,setInterval(()=>{(this.options.refetchIntervalInBackground||Ct.isFocused())&&l(this,a,P).call(this)},s(this,F)))},X=function(){l(this,a,V).call(this),l(this,a,J).call(this,l(this,a,W).call(this))},Y=function(){s(this,x)&&(clearTimeout(s(this,x)),h(this,x,void 0))},Z=function(){s(this,q)&&(clearInterval(s(this,q)),h(this,q,void 0))},$=function(){const t=s(this,g).getQueryCache().build(s(this,g),this.options);if(t===s(this,n))return;const r=s(this,n);h(this,n,t),h(this,A,t.state),this.hasListeners()&&(r==null||r.removeObserver(this),t.addObserver(this))},pt=function(t){yt.batch(()=>{t.listeners&&this.listeners.forEach(r=>{r(s(this,p))}),s(this,g).getQueryCache().notify({query:s(this,n),type:"observerResultsUpdated"})})},ft);function Lt(e,t){return S(t.enabled,e)!==!1&&e.state.data===void 0&&!(e.state.status==="error"&&t.retryOnMount===!1)}function lt(e,t){return Lt(e,t)||e.state.data!==void 0&&tt(e,t,t.refetchOnMount)}function tt(e,t,r){if(S(t.enabled,e)!==!1){const i=typeof r=="function"?r(e):r;return i==="always"||i!==!1&&et(e,t)}return!1}function dt(e,t,r,i){return(e!==t||S(i.enabled,e)===!1)&&(!r.suspense||e.state.status!=="error")&&et(e,r)}function et(e,t){return S(t.enabled,e)!==!1&&e.isStaleByTime(B(t.staleTime,e))}function jt(e,t){return!z(e.getCurrentResult(),t)}var gt=w.createContext(!1),Bt=()=>w.useContext(gt);gt.Provider;function Nt(){let e=!1;return{clearReset:()=>{e=!1},reset:()=>{e=!0},isReset:()=>e}}var _t=w.createContext(Nt()),kt=()=>w.useContext(_t),Ht=(e,t)=>{(e.suspense||e.throwOnError)&&(t.isReset()||(e.retryOnMount=!1))},Gt=e=>{w.useEffect(()=>{e.clearReset()},[e])},zt=({result:e,errorResetBoundary:t,throwOnError:r,query:i})=>e.isError&&!t.isReset()&&!e.isFetching&&i&&wt(r,[e.error,i]),Vt=e=>{e.suspense&&(typeof e.staleTime!="number"&&(e.staleTime=1e3),typeof e.gcTime=="number"&&(e.gcTime=Math.max(e.gcTime,1e3)))},Wt=(e,t)=>(e==null?void 0:e.suspense)&&t.isPending,Jt=(e,t,r)=>t.fetchOptimistic(e).catch(()=>{r.clearReset()});function Xt(e,t,r){var E,O,u,K;const i=Et(),f=Bt(),c=kt(),o=i.defaultQueryOptions(e);(O=(E=i.getDefaultOptions().queries)==null?void 0:E._experimental_beforeQuery)==null||O.call(E,o),o._optimisticResults=f?"isRestoring":"optimistic",Vt(o),Ht(o,c),Gt(c);const[d]=w.useState(()=>new t(i,o)),R=d.getOptimisticResult(o);if(w.useSyncExternalStore(w.useCallback(b=>{const j=f?()=>{}:d.subscribe(yt.batchCalls(b));return d.updateResult(),j},[d,f]),()=>d.getCurrentResult(),()=>d.getCurrentResult()),w.useEffect(()=>{d.setOptions(o,{listeners:!1})},[o,d]),Wt(o,R))throw Jt(o,d,c);if(zt({result:R,errorResetBoundary:c,throwOnError:o.throwOnError,query:i.getQueryCache().get(o.queryHash)}))throw R.error;return(K=(u=i.getDefaultOptions().queries)==null?void 0:u._experimental_afterQuery)==null||K.call(u,o,R),o.notifyOnChangeProps?R:d.trackResult(R)}function m(e,t){return Xt(e,At)}const ee=()=>m({queryKey:["initial"],queryFn:()=>Ft()}),se=()=>m({queryKey:["slider"],queryFn:()=>It()}),re=()=>m({queryKey:["about"],queryFn:()=>Qt()}),ie=()=>m({queryKey:["history"],queryFn:()=>xt()}),ne=()=>m({queryKey:["gallery"],queryFn:()=>qt()}),ae=()=>m({queryKey:["news"],queryFn:()=>Dt()}),oe=e=>m({queryKey:["news",{id:e}],queryFn:()=>Tt(e),enabled:!!e}),ue=()=>m({queryKey:["reviews"],queryFn:()=>Ut()}),he=()=>m({queryKey:["account-status"],queryFn:()=>Mt(),retry:0,refetchInterval:1e3*60*20}),ce=()=>m({queryKey:["events"],queryFn:()=>Kt()}),le=()=>m({queryKey:["messages"],queryFn:()=>Pt()}),de=()=>ct.jsx("div",{className:"w-full h-[80vh] flex items-center justify-center",children:ct.jsx(Ot,{className:"animate-spin text-4xl text-primary"})});export{de as Q,re as a,ne as b,ie as c,ae as d,oe as e,ce as f,le as g,ue as h,ee as i,he as j,se as u};
