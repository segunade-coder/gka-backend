import{r as s,u as h,a as b,t as a,j as e,B as j}from"./index-sivNVTOR.js";import{B as y,a as w}from"./index-CoGIncIg.js";import{u as N}from"./mutation-PAiXXUfN.js";import{F as v}from"./index-DsVsmuaO.js";import{i as u}from"./utils-VVouzHTs.js";const P=()=>{const[l,i]=s.useState(!1),[o,c]=s.useState(""),[r,x]=s.useState(""),[m,n]=s.useState(!1),p=N(),g=h(),{state:d}=b();document.title="GKA | Admin Login",s.useEffect(()=>{d&&!d.authentication&&a.error("Error",{description:"You've been logged out. Try login again",id:"login-error"})},[]);const f=async t=>{if(t.preventDefault(),o!==""&&r!==""){a.loading("Loading...",{id:"loading-login"}),n(!0);try{await p.mutateAsync({email:o,password:r}),n(!1),a.dismiss("loading-login"),a.success("Login Successful"),c(""),x(""),g("/admin")}catch{n(!1)}}else a.warning("Warning",{description:"Make sure you fill in all the fields"})};return e.jsxs("div",{className:"w-full h-full flex",children:[e.jsx(j,{richColors:!0}),e.jsx("div",{className:"w-[65%] rounded-tl-3xl rounded-bl-3xl hidden lg:block",children:e.jsx("img",{src:u.loginImage,alt:"",className:"w-full max-h-screen object-cover"})}),e.jsxs("form",{className:"flex flex-col flex-1 py-10 px-5 sm:px-24 lg:px-16 rounded-tr-2xl rounded-br-2xl",onSubmit:f,children:[e.jsx("img",{src:u.logo,alt:"logo",className:"w-24 mx-auto mt-5 sm:mt-16"}),e.jsx("p",{className:"text-2xl font-medium pt-5 leading-18 title text-center text-stone-600",children:"Welcome Back"}),e.jsx("small",{className:"text-xs mb-6 text-stone-500 text-center",children:"Please enter your details"}),e.jsx("input",{type:"email",placeholder:"Email",className:"py-2 border-b-[1px] bg-transparent border-stone-400 w-full my-5 outline-none placeholder:text-stone-600 text-sm text-stone-800 placeholder:text-sm px-3",value:o,onChange:t=>c(t.target.value)}),e.jsxs("div",{className:"relative w-full flex",children:[l?e.jsx(w,{className:"text-lg cursor-pointer absolute bottom-5 right-0 text-blue-900",onClick:()=>i(!l)}):e.jsx(y,{className:"text-lg cursor-pointer absolute bottom-5 right-0 text-blue-900",onClick:()=>i(!l)}),e.jsx("input",{type:l?"text":"password",placeholder:"Password",value:r,onChange:t=>x(t.target.value),className:"py-2 border-b-[1px] bg-transparent border-stone-400 w-full my-2 outline-none placeholder:text-stone-600 text-sm text-stone-800 placeholder:text-sm px-3"})]}),e.jsx("div",{className:"w-full flex justify-end text-xs pt-2 px-3",children:e.jsx("a",{href:"",className:"text-slate-500",children:"forgot password?"})}),e.jsx("button",{type:"submit",className:"w-full text-sm bg-primary text-white py-3 rounded-lg flex gap-3 items-center px-3 mt-10 justify-center",disabled:m,children:m?e.jsx(v,{className:"animate-spin"}):"Login"}),e.jsx("div",{className:"h-full text-xs text-stone-500 flex items-end justify-center py-5",children:e.jsx("a",{href:"/",children:"Go Back to Homepage"})})]})]})};export{P as default};
